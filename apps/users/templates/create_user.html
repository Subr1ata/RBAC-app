{% extends layout_path %}

{% load static %}
{% load i18n %}

{% block title %}Create User{% endblock %}

{% block content %}

<div class="card">
  <div class="card-body">
    <form class="add-transactions pt-0 fv-plugins-bootstrap5 fv-plugins-framework" id="addTransactionForm" method="POST" novalidate="novalidate">
      {% csrf_token %}
      <div class="mb-5 fv-plugins-icon-container">
        <label for="{{ form.username.id_for_label }}" class="form-label">Username</label>
        {{ form.username }}
        {% if form.username.errors %}
            <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback">
              <div class="text-danger">{{ form.username.errors }}</div>
            </div>
        {% endif %}
      </div>
      <div class="mb-5 fv-plugins-icon-container">
        <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
        {{ form.email }}
        {% if form.email.errors %}
            <div class="text-danger">
                {{ form.email.errors }}
            </div>
        {% endif %}
      </div>
      <div class="mb-5 fv-plugins-icon-container">
        <label for="{{ form.password1.id_for_label }}" class="form-label">Password</label>
        {{ form.password1 }}
        {% if form.password1.errors %}
            <div class="text-danger">
                {{ form.password1.errors }}
            </div>
        {% endif %}
      </div>
      <div class="mb-5 fv-plugins-icon-container">
        <label for="{{ form.password2.id_for_label }}" class="form-label">Confirm Password</label>
        {{ form.password2 }}
        {% if form.password2.errors %}
            <div class="text-danger">
                {{ form.password2.errors }}
            </div>
        {% endif %}
      </div>
      <div class="mb-5 fv-plugins-icon-container">
        <label for="role" class="form-label">Assign Role</label>
        <select name="role" id="role" class="form-select">
            <option value="">Select Role</option>
            {% for role in roles %}
                {{role}}
                <option value="{{ role.name }}">{{ role.name }}</option>
            {% endfor %}
        </select>
      </div>
      <div class="mb-5 fv-plugins-icon-container">
      <button type="submit" class="btn btn-primary me-sm-4 me-1" name="submitButton">Create User</button>
      <a href="{% url 'view_users' %}" class="btn btn-secondary">Back</a>
    <input type="hidden"></form>
  </div>
</div>
{% endblock %}
